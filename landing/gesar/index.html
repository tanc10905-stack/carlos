<!DOCTYPE html>
<html lang="en" data-lang="en" data-hero-lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Genyen Middle Traverse</title>

    <style>
        /* --------------------
           RESET & BASE
        -------------------- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue",
                         Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
                         sans-serif;
            background: #000;
            color: #fff;
            -webkit-font-smoothing: antialiased;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* --------------------
           HERO
        -------------------- */

        .hero {
            width: 100vw;
            height: 100vh;
            background: url("images/gesar_banner.jpeg") center center / cover no-repeat;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
            color: #fff;
        }

        /* 遮光罩 */
        .hero::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center,
                        rgba(0,0,0,0.08) 0,
                        rgba(0,0,0,0.45) 60%,
                        rgba(0,0,0,0.75) 100%);
            pointer-events: none;
            z-index: 0;
        }

        .hero-text-box {
            position: relative;
            z-index: 1;
            max-width: 80rem;
            padding: 1.5rem 1.75rem;
        }

        /* -------------------- 修正后的动画 CSS (Bug 3 修复) -------------------- */
        /* 基础状态：稍微缩小 + 下移 + 透明 */
        .hero-line {
            margin-bottom: 0.9rem;
            font-weight: 600;
            text-shadow: 0 6px 18px rgba(0,0,0,0.75);
            /* 动画/过渡属性 */
            opacity: 0;
            transform: translateY(12px) scale(0.96);
            transition: opacity 0.55s ease, transform 0.6s ease; /* 0.6s 动画时长 */
        }

        /* 出场状态：回到正常大小 + 位置 (动画目标状态) */
        .hero-line.hero-anim {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        /* -------------------------------------------------------------------- */


        /* 主标题中英文基础字号 */
        .hero-main-cn { font-size: 1.6rem; letter-spacing: 0.16em; }
        .hero-main-en { font-size: 2.6rem; letter-spacing: 0.22em; }
        /* 副标题两行 */
        .hero-sub-cn { font-size: 1.15rem; letter-spacing: 0.08em; }
        .hero-sub-en { font-size: 1.25rem; letter-spacing: 0.06em; }
        /* 描述两行 */
        .hero-desc-cn,
        .hero-desc-en { font-size: 1.05rem; letter-spacing: 0.03em; }

        /* 缩放控制：使用 data-hero-lang 状态控制缩放 */
        /* 非当前语言：缩小 + 变暗 */
        html[data-hero-lang="zh"] .hero-en {
            transform: translateY(0) scale(0.92);
            opacity: 0.55;
        }
        html[data-hero-lang="en"] .hero-cn {
            transform: translateY(0) scale(0.92);
            opacity: 0.55;
        }
        /* 当前语言（最终稳定状态）：放大 + 更亮 */
        html[data-hero-lang="zh"] .hero-cn {
            transform: translateY(0) scale(1.22);
            opacity: 1;
        }
        html[data-hero-lang="en"] .hero-en {
            transform: translateY(0) scale(1.22);
            opacity: 1;
        }
        
        /* --------------------
           FLOATING BUTTONS (略)
        -------------------- */

        .float-btn,
        .lang-switch {
            position: fixed;
            top: 20px;
            z-index: 2000;
            display: inline-flex;
            align-items: center;
            background: #fff;
            border-radius: 999px;
            border: 1px solid #111;
            box-shadow:
                0 8px 26px rgba(0,0,0,0.25),
                0 0 0 1px rgba(255,255,255,0.4);
            overflow: hidden;
            backdrop-filter: blur(16px);
        }

        .float-btn { left: 20px; }

        .float-btn a {
            padding: 8px 18px;
            font-size: 13px;
            font-weight: 600;
            color: #111;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            white-space: nowrap;
        }

        .float-btn a span.arrow { font-size: 16px; }

        .lang-switch { right: 20px; }

        .lang-btn {
            padding: 7px 16px;
            font-size: 12px;
            font-weight: 700;
            border: none;
            background: transparent;
            cursor: pointer;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #111;
            transition:
                background 0.25s ease,
                color 0.25s ease;
        }

        .lang-btn + .lang-btn {
            border-left: 1px solid rgba(0,0,0,0.08);
        }

        .lang-btn.active {
            background: #111;
            color: #fff;
        }

        /* --------------------
           PAGE BODY
        -------------------- */

        .page-wrap {
            background: #050505;
            color: #f5f5f5;
        }

        .page {
            max-width: 880px;
            margin: 0 auto;
            padding: 80px 24px 120px;
            line-height: 1.9;
            font-size: 15.5px;
        }

        .page h2 {
            font-size: 1.4rem;
            margin-top: 40px;
            margin-bottom: 14px;
            font-weight: 600;
            letter-spacing: 0.06em;
        }

        .page p {
            margin-bottom: 22px;
            color: rgba(245,245,245,0.86);
        }

        .page p + p {
            margin-top: -4px;
        }

        .page .section-index {
            font-size: 0.82rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            color: rgba(255,255,255,0.55);
            margin-bottom: 6px;
        }

        .page .ending {
            margin-top: 40px;
            font-style: normal;
        }

        /* 正文语言切换：只切正文，不影响 Hero */
        .body-lang {
            display: none;
        }

        .body-lang.active { display: block; }

        /* --------------------
           RESPONSIVE (略)
        -------------------- */
        @media (max-width: 1024px) {
            .hero-main-en { font-size: 2.2rem; letter-spacing: 0.18em; }
            .hero-main-cn { font-size: 1.4rem; }
            .hero-sub-en { font-size: 1.1rem; }
        }
        @media (max-width: 768px) {
            .hero-text-box { padding: 1.25rem 0.75rem; }
            .hero-main-en { font-size: 1.9rem; letter-spacing: 0.16em; }
            .hero-main-cn { font-size: 1.2rem; letter-spacing: 0.12em; }
            .hero-sub-cn, .hero-sub-en { font-size: 0.98rem; }
            .hero-desc-cn, .hero-desc-en { font-size: 0.95rem; }
            .page { padding-top: 64px; padding-bottom: 96px; }
        }
        @media (max-width: 480px) {
            .hero { padding: 0 14px; }
            .hero-main-en { font-size: 1.7rem; letter-spacing: 0.14em; }
            .hero-main-cn { font-size: 1.1rem; }
            .lang-switch { right: 14px; }
            .float-btn { left: 14px; }
            .float-btn a { padding-inline: 14px; }
        }

    </style>
</head>

<body>

    <div class="float-btn">
        <a href="../../../index.html">
            <span class="arrow">←</span>
            <span>BACK / 返回主页</span>
        </a>
    </div>

    <div class="lang-switch">
        <button id="btn-en" class="lang-btn" type="button">EN</button>
        <button id="btn-zh" class="lang-btn" type="button">中文</button>
    </div>

    <section class="hero">
        <div class="hero-text-box">

            <div id="hero-cn-1" class="hero-line hero-main-cn hero-cn" data-lang-group="zh">格聂中线穿越</div>
            <div id="hero-en-1" class="hero-line hero-main-en hero-en" data-lang-group="en">GENYEN MIDDLE TRAVERSE</div>

            <div id="hero-cn-2" class="hero-line hero-sub-cn hero-cn" data-lang-group="zh">格聂中线：荒野里的第三种秩序</div>
            <div id="hero-en-2" class="hero-line hero-sub-en hero-en" data-lang-group="en">
                Genyen Middle Traverse: The Third Order Hidden in the Wilderness
            </div>

            <div id="hero-cn-3" class="hero-line hero-desc-cn hero-cn" data-lang-group="zh">
                在那里，荒野会悄然重塑你对距离、宁静与奢侈的理解。
            </div>
            <div id="hero-en-3" class="hero-line hero-desc-en hero-en" data-lang-group="en">
                Where wilderness quietly rewrites your sense of distance, silence, and luxury.
            </div>

        </div>
    </section>

    <div class="page-wrap">
        <main class="page">

            <section id="body-en" class="body-lang body-en">
                <div class="section-index">I</div>
                <h2>Before the Edge – The Power of Stillness</h2>
                <p>Before entering Genyen, you think you’re ready: for altitude, for scenery, for some kind of emotional “impact”.</p>
                <p>But Genyen quietly removes your illusions about speed. On the map, only a few dozen kilometres remain. In reality, your car can barely hold twenty. The “road” stops being a road and becomes a trace — carved by wind, polished by time.</p>
                <p>This is your first lesson in order: here, movement starts from stillness.</p>

                <div class="section-index">II</div>
                <h2>When Wind Redefines Scale</h2>
                <p>The deeper you go, the less your usual sense of distance works. A mountain looks close — almost within reach. Half an hour later, it hasn’t moved at all.</p>
                <p>In Genyen, distance is never a unit on a map. It’s a unit of emotion.</p>
                <p>You slowly accept that this landscape will not adjust itself to you. You are the one who has to be recalibrated. To be quietly re-scaled by a place — that’s its own kind of luxury.</p>

                <div class="section-index">III</div>
                <h2>Solitude Is Permission, Not Absence</h2>
                <p>Somewhere along the traverse, the wind suddenly drops. The world feels like someone has pressed mute.</p>
                <p>It isn’t empty. It’s a space being held for you. Here, nobody knows where you are, nobody is waiting for your update, and for the first time, you no longer need to be understood.</p>
                <p>In this place, solitude is not “no one around”. It’s the absence of noise.</p>

                <div class="section-index">IV</div>
                <h2>Night Is Genyen’s True Shape</h2>
                <p>Daytime shows you geography. Night reveals the underlying order.</p>
                <p>When the camp lights come on, the darkness gains thickness. Sound is halved. Your breathing starts to match the rhythm of the mountains around you.</p>
                <p>You realise that daytime is you moving through the wilderness. Night is the wilderness moving through you.</p>
                <p>And here, luxury has nothing to do with views. It is simply the ability to feel the world again.</p>

                <div class="section-index">V</div>
                <h2>Genyen · Closing</h2>
                <p class="ending">Genyen does not give you answers, nor does it try to explain the world for you. Its lesson is subtler: the world will not automatically make room for you, but you can learn to make a little room for the world.</p>
                <p class="ending">It is not grand, not dramatic, not romantic. Yet sometime after you have left, in the middle of a decision, a difficulty, or a quiet pause, it will echo back, lightly.</p>
                <p class="ending">When you finally roll back onto smooth asphalt, you understand what happiness means here: not arriving anywhere, but recovering the ability to keep going.</p>
            </section>

            <section id="body-zh" class="body-lang body-zh">
                <div class="section-index">一</div>
                <h2>抵达边缘之前：静止的力量</h2>
                <p>进入格聂之前，你以为自己已经准备好了：海拔、风景、情绪上的某种“冲击”。</p>
                <p>但格聂做的第一件事，是拿走你对“速度”的幻想。导航上只剩几十公里，车速却很难超过 20 公里。路不再是路，而是被风削过、被时间啃过的痕迹。</p>
                <p>在这片荒野里，真正的秩序不是从前进开始，而是从停下来开始。</p>

                <div class="section-index">二</div>
                <h2>风把尺度重新定义</h2>
                <p>越往里走，你越难判断“远”和“近”。一座山，看起来就在前方不远，你走了半个小时，它依旧停在原位。</p>
                <p>在格聂，远近从来不是地理单位，而是一种情绪单位。</p>
                <p>你慢慢接受：你无法让荒野配合你的尺度，只能让自己掉进它的节奏里。被世界重新校准比例尺，本身就是一种极其安静的奢侈。</p>

                <div class="section-index">三</div>
                <h2>孤独不是缺席，而是被允许</h2>
                <p>在中线的某一段，风突然停了下来，世界像被按下了静音键。</p>
                <p>那不是“什么都没有”，而是世界为你让出的一块空白。你站在那里，没有人知道你在这里，也没有人等你报平安，但第一次，你也不再需要别人知道。</p>
                <p>在这里，孤独不是“没人”，而是终于没有噪音。</p>

                <div class="section-index">四</div>
                <h2>夜晚是格聂的真实形状</h2>
                <p>白天给你看的是地貌，夜晚露出来的才是秩序。</p>
                <p>当营地的灯亮起来，黑暗开始有了厚度，声音一点点被压低，连你的呼吸都在悄悄对齐山体的节奏。</p>
                <p>在那片静夜里，你忽然明白：白天是你穿过荒野，夜晚是荒野穿过你。</p>
                <p>而这里真正的奢侈，从来不是风景，而是重新拥有感受世界的能力。</p>

                <div class="section-index">五</div>
                <h2>格聂·结语</h2>
                <p class="ending">格聂不会给你答案，也不会替你解释世界。它教给你的，是一种藏得更深的秩序：世界不会主动为你让路，但你可以学会，为世界让出一点空间。</p>
                <p class="ending">它不宏大，也不戏剧，却会在你离开的某一天，在某个选择、某段沉默里，轻轻回响。</p>
                <p class="ending">当你重新驶上柏油公路的那一刻，你会突然明白：幸福，从来不是抵达哪里，而是重新拥有继续走下去的能力。</p>
            </section>

        </main>
    </div>
    
    <script>
        let currentLang = 'en';

        /**
         * 切换语言
         * @param {('en'|'zh')} lang
         * @param {boolean} withAnimation 是否播放 Hero 动画
         */
        function setLang(lang, withAnimation = true) {
            currentLang = lang;

            // 按钮状态
            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.getElementById('btn-zh').classList.toggle('active', lang === 'zh');

            // 正文中英文显示 (使用 ID 和 active 类控制显示，配合 CSS .body-lang.active)
            const bodyEn = document.getElementById('body-en');
            const bodyZh = document.getElementById('body-zh');
            if (bodyEn) bodyEn.classList.toggle('active', lang === 'en');
            if (bodyZh) bodyZh.classList.toggle('active', lang === 'zh');
            
            // <html> 上挂状态（用于控制 Hero 文本的缩放/透明度）
            document.documentElement.setAttribute('data-lang', lang);
            document.documentElement.setAttribute('data-hero-lang', lang);

            // Hero 动画
            if (withAnimation) {
                runHeroAnimation(lang);
            }
        }

        /**
         * Hero 三行文字依次放大
         */
        function runHeroAnimation(lang) {
            // 当前语言要动画的 3 行 ID
            const ids = lang === 'en'
                ? ['hero-en-1', 'hero-en-2', 'hero-en-3']
                : ['hero-cn-1', 'hero-cn-2', 'hero-cn-3'];

            // Hero 里所有 6 行 ID
            const all = [
                'hero-cn-1', 'hero-en-1',
                'hero-cn-2', 'hero-en-2',
                'hero-cn-3', 'hero-en-3'
            ];
            
            // 动画总时长计算：
            // 延迟时间 = 260ms/行 * 2行 = 520ms
            // 动画/过渡时间 = 600ms
            // 动画完全结束时间 > 520ms + 600ms
            const totalDuration = 1200; // 确保覆盖所有过渡

            // 1. 先把所有行的动画类清掉
            all.forEach(id => {
                const el = document.getElementById(id);
                if (!el) return;
                el.classList.remove('hero-anim');
                // 强制回流，确保浏览器注意到类已移除
                void el.offsetWidth;
            });

            // 2. 延迟执行（Bug 2 修复）
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    ids.forEach((id, index) => {
                        const el = document.getElementById(id);
                        if (!el) return;
                        
                        // 使用 setTimeout 实现逐行延迟触发
                        const delayTime = index * 260;
                        setTimeout(() => {
                            el.classList.add('hero-anim');
                            
                            // 3. 动画结束后移除类（Bug 4 修复）
                            // 移除 .hero-anim，让 scale(1.22) 的稳定状态接管。
                            setTimeout(() => {
                                el.classList.remove('hero-anim');
                            }, delayTime + totalDuration); // 总延迟 + 确保过渡完成的时间
                            
                        }, delayTime); 
                    });
                });
            });
        }

        // 绑定事件
        const btnEn = document.getElementById('btn-en');
        const btnZh = document.getElementById('btn-zh');

        if (btnEn) btnEn.addEventListener('click', () => setLang('en'));
        if (btnZh) btnZh.addEventListener('click', () => setLang('zh'));

        /**
         * 初始加载：
         * 只设置「英文」默认状态，不触发动画 (Bug 1 修复)
         */
        window.addEventListener('DOMContentLoaded', () => {
            setLang('en', false); // 第二个参数 false => 不播动画
        });
    </script>

</body>
</html>
